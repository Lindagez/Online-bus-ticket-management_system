import{r as s,u as b,a as p,j as t,L as h}from"./index-DnV16Xvn.js";import{l as y}from"./api-BkqQS7sa.js";const j=()=>{const[o,m]=s.useState(""),[n,u]=s.useState(""),[l,i]=s.useState(""),r=b(),c=p(),x=async a=>{var d,g;a.preventDefault();try{const e=await y({email:o,password:n});if(e.data.token){localStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.user.role),localStorage.setItem("user",e.data.user.email);const f=((g=(d=c.state)==null?void 0:d.from)==null?void 0:g.pathname)||"/";e.data.user.role==="admin"?r("/admin"):e.data.user.role==="busCompany"?r("/bus-company"):r("/passenger")}else i(e.data.message)}catch(e){console.error("Login error",e),i("Login failed. Please try again.")}};return t.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-blue-500 to-indigo-600 hero",children:t.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-neutral-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[t.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-700 dark:text-white",children:"Login"}),t.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:a=>m(a.target.value),className:"p-3 w-full border border-gray-300 dark:border-gray-700 rounded-lg outline-none bg-gray-100 dark:bg-neutral-900 text-gray-700 dark:text-white mb-4"}),t.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:a=>u(a.target.value),className:"p-3 w-full border border-gray-300 dark:border-gray-700 rounded-lg outline-none bg-gray-100 dark:bg-neutral-900 text-gray-700 dark:text-white mb-4"}),l&&t.jsx("p",{className:"text-red-600 text-sm mb-4",children:l}),t.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg w-full transition duration-300",children:"Login"}),t.jsxs("p",{className:"mt-4 text-center text-gray-600 dark:text-gray-300",children:["Don't have an account?",t.jsx(h,{to:"/register",className:"text-blue-500 hover:underline ml-1",children:"Register"})]})]})})};export{j as default};
